```
def backtrack(현재상태):
    # 1. 종료 조건 체크
    if 종료조건_만족:
        결과저장()
        return
    
    # 2. 유효하지 않은 상태 체크 (가지치기)
    if 유효하지_않은_상태:
        return
        
    # 3. 선택할 수 있는 모든 선택지에 대해 반복
    for 선택 in 가능한_선택들:
        # 4. 선택을 하고
        현재상태에_선택_적용()
        
        # 5. 다음 단계 진행 (재귀)
        backtrack(다음상태)
        
        # 6. 선택 취소 (백트래킹)
        현재상태에_선택_취소()
```

각 단계마다 "원소를 포함할지 말지"를 결정
